// This file is auto-generated by @hey-api/openapi-ts

import type {
    CancelTimerApiResponse,
    CheckGuildApiResponse,
    GetAuthDataApiResponse,
    GetDiscordTownApiResponse,
    GetGameApiResponse,
    GetGamesApiResponse,
    GetGuildsWithUserApiResponse,
    GetJoinDataApiResponse,
    GetPlayerGamesApiResponse,
    GetRolesApiResponse,
    GetTimerApiResponse,
    GetTownStatusApiResponse,
    HealthApiResponse,
    StartGameApiResponse,
    StartOrEditTimerApiResponse
} from './types.gen';

const clocktowerServerAdminEndpointsHealthResponseSchemaResponseTransformer = (data: any) => {
    if (data.timeStamp) {
        data.timeStamp = new Date(data.timeStamp);
    }
    return data;
};

export const healthApiResponseTransformer = async (data: any): Promise<HealthApiResponse> => {
    data = clocktowerServerAdminEndpointsHealthResponseSchemaResponseTransformer(data);
    return data;
};

export const checkGuildApiResponseTransformer = async (data: any): Promise<CheckGuildApiResponse> => {
    data = clocktowerServerDiscordEndpointsCheckGuildResponseSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerDiscordEndpointsGetGuildsWithUserResponseSchemaResponseTransformer = (data: any) => {
    if (data.miniGuilds) {
        data.miniGuilds = data.miniGuilds.map((item: any) => {
            return clocktowerServerDataMiniGuildSchemaResponseTransformer(item);
        });
    }
    return data;
};

export const getGuildsWithUserApiResponseTransformer = async (data: any): Promise<GetGuildsWithUserApiResponse> => {
    data = clocktowerServerDiscordEndpointsGetGuildsWithUserResponseSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerDataUserAuthDataSchemaResponseTransformer = (data: any) => {
    if (data.townUser) {
        data.townUser = clocktowerServerDataTownUserSchemaResponseTransformer(data.townUser);
    }
    return data;
};

const clocktowerServerDataTownUserSchemaResponseTransformer = (data: any) => {
    if (data.voiceState) {
        data.voiceState = clocktowerServerDataVoiceStateSchemaResponseTransformer(data.voiceState);
    }
    return data;
};

export const getAuthDataApiResponseTransformer = async (data: any): Promise<GetAuthDataApiResponse> => {
    data = clocktowerServerDataUserAuthDataSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerDataDiscordTownDtoSchemaResponseTransformer = (data: any) => {
    if (data.channelCategories) {
        data.channelCategories = data.channelCategories.map((item: any) => {
            return clocktowerServerDataMiniCategoryDtoSchemaResponseTransformer(item);
        });
    }
    if (data.townUsers) {
        data.townUsers = data.townUsers.map((item: any) => {
            return clocktowerServerDataUserDtoSchemaResponseTransformer(item);
        });
    }
    return data;
};

const clocktowerServerDataMiniCategoryDtoSchemaResponseTransformer = (data: any) => {
    if (data.channels) {
        data.channels = data.channels.map((item: any) => {
            return clocktowerServerDataChannelOccupantsDtoSchemaResponseTransformer(item);
        });
    }
    return data;
};

const clocktowerServerDataChannelOccupantsDtoSchemaResponseTransformer = (data: any) => {
    if (data.channel) {
        data.channel = clocktowerServerDataMiniChannelSchemaResponseTransformer(data.channel);
    }
    if (data.occupants) {
        data.occupants = data.occupants.map((item: any) => {
            return clocktowerServerDataUserDtoSchemaResponseTransformer(item);
        });
    }
    return data;
};

const clocktowerServerDataUserDtoSchemaResponseTransformer = (data: any) => {
    if (data.voiceState) {
        data.voiceState = clocktowerServerDataVoiceStateSchemaResponseTransformer(data.voiceState);
    }
    if (data.userType) {
        data.userType = clocktowerServerDataTypesEnumUserTypeSchemaResponseTransformer(data.userType);
    }
    return data;
};

export const getDiscordTownApiResponseTransformer = async (data: any): Promise<GetDiscordTownApiResponse> => {
    data = clocktowerServerDataDiscordTownDtoSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerDataTypesJoinDataSchemaResponseTransformer = (data: any) => {
    if (data.user) {
        data.user = clocktowerServerDataGameUserSchemaResponseTransformer(data.user);
    }
    return data;
};

const clocktowerServerDataGameUserSchemaResponseTransformer = (data: any) => {
    if (data.userType) {
        data.userType = clocktowerServerDataTypesEnumUserTypeSchemaResponseTransformer(data.userType);
    }
    return data;
};

export const getJoinDataApiResponseTransformer = async (data: any): Promise<GetJoinDataApiResponse> => {
    data = clocktowerServerDataTypesJoinDataSchemaResponseTransformer(data);
    return data;
};

export const getTownStatusApiResponseTransformer = async (data: any): Promise<GetTownStatusApiResponse> => {
    data = clocktowerServerDiscordTownEndpointsGetTownStatusResponseSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerDataGameStateSchemaResponseTransformer = (data: any) => {
    if (data.users) {
        data.users = data.users.map((item: any) => {
            return clocktowerServerDataGameUserSchemaResponseTransformer(item);
        });
    }
    if (data.players) {
        data.players = data.players.map((item: any) => {
            return clocktowerServerDataGameUserSchemaResponseTransformer(item);
        });
    }
    if (data.storyTellers) {
        data.storyTellers = data.storyTellers.map((item: any) => {
            return clocktowerServerDataGameUserSchemaResponseTransformer(item);
        });
    }
    if (data.spectators) {
        data.spectators = data.spectators.map((item: any) => {
            return clocktowerServerDataGameUserSchemaResponseTransformer(item);
        });
    }
    if (data.createdBy) {
        data.createdBy = clocktowerServerDataGameUserSchemaResponseTransformer(data.createdBy);
    }
    if (data.createdDate) {
        data.createdDate = new Date(data.createdDate);
    }
    if (data.gameTime) {
        data.gameTime = clocktowerServerDataTypesEnumGameTimeSchemaResponseTransformer(data.gameTime);
    }
    return data;
};

export const getGameApiResponseTransformer = async (data: any): Promise<GetGameApiResponse> => {
    data = clocktowerServerDataGameStateSchemaResponseTransformer(data);
    return data;
};

export const getGamesApiResponseTransformer = async (data: any): Promise<GetGamesApiResponse> => {
    data = data.map((item: any) => {
        return clocktowerServerDataGameStateSchemaResponseTransformer(item);
    });
    return data;
};

const clocktowerServerDataMiniGameStateSchemaResponseTransformer = (data: any) => {
    if (data.createdBy) {
        data.createdBy = clocktowerServerDataGameUserSchemaResponseTransformer(data.createdBy);
    }
    if (data.createdDate) {
        data.createdDate = new Date(data.createdDate);
    }
    return data;
};

export const getPlayerGamesApiResponseTransformer = async (data: any): Promise<GetPlayerGamesApiResponse> => {
    data = data.map((item: any) => {
        return clocktowerServerDataMiniGameStateSchemaResponseTransformer(item);
    });
    return data;
};

export const startGameApiResponseTransformer = async (data: any): Promise<StartGameApiResponse> => {
    data = clocktowerServerDataGameStateSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerRolesEndpointsGetRolesResponseSchemaResponseTransformer = (data: any) => {
    if (data.roles) {
        data.roles = data.roles.map((item: any) => {
            return clocktowerServerDataTypesRoleRoleSchemaResponseTransformer(item);
        });
    }
    return data;
};

const clocktowerServerDataTypesRoleRoleSchemaResponseTransformer = (data: any) => {
    if (data.type) {
        data.type = clocktowerServerDataTypesEnumRoleTypeSchemaResponseTransformer(data.type);
    }
    if (data.edition) {
        data.edition = clocktowerServerDataTypesEnumEditionSchemaResponseTransformer(data.edition);
    }
    return data;
};

export const getRolesApiResponseTransformer = async (data: any): Promise<GetRolesApiResponse> => {
    data = clocktowerServerRolesEndpointsGetRolesResponseSchemaResponseTransformer(data);
    return data;
};

const clocktowerServerCommonTypesTimerStateSchemaResponseTransformer = (data: any) => {
    data.status = clocktowerServerCommonTypesTimerStatusSchemaResponseTransformer(data.status);
    data.serverNowUtc = new Date(data.serverNowUtc);
    if (data.endUtc) {
        data.endUtc = new Date(data.endUtc);
    }
    return data;
};

export const cancelTimerApiResponseTransformer = async (data: any): Promise<CancelTimerApiResponse> => {
    data = clocktowerServerCommonTypesTimerStateSchemaResponseTransformer(data);
    return data;
};

export const getTimerApiResponseTransformer = async (data: any): Promise<GetTimerApiResponse> => {
    data = clocktowerServerCommonTypesTimerStateSchemaResponseTransformer(data);
    return data;
};

export const startOrEditTimerApiResponseTransformer = async (data: any): Promise<StartOrEditTimerApiResponse> => {
    data = clocktowerServerCommonTypesTimerStateSchemaResponseTransformer(data);
    return data;
};
